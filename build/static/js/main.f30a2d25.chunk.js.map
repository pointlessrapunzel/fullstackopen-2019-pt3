{"version":3,"sources":["components/Filter.js","components/Persons.js","components/PersonForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","value","onChange","type","Person","person","removePerson","name","number","onClick","id","Persons","persons","map","key","PersonForm","props","onSubmit","inputAttributes","newName","handleNameChange","newNumber","handleNumberChange","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","message","style","maxWidth","fontSize","background","borderStyle","borderRadius","padding","marginBottom","color","App","useState","setPersons","setNewName","setNewNumber","newFilter","setNewFilter","emptyNotification","text","notification","setNotification","resetNotification","setTimeout","useEffect","personService","initialPersons","className","event","target","preventDefault","personObj","trim","findPerson","find","toLowerCase","window","confirm","returnedPerson","p","catch","filter","concat","error","alert","includes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f30a2d25.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ value, onChange }) => (\r\n  <div>\r\n  filter shown with\r\n    <input type=\"text\" value={value} \r\n          onChange={onChange} \r\n    />\r\n  </div>\r\n)\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Person = ({ person, removePerson }) => (\r\n  <tr>\r\n    <td>{person.name}</td>\r\n    <td>{person.number}</td>\r\n    <td>\r\n      <button type=\"button\" onClick={removePerson(person.id)}>\r\n        delete\r\n      </button>\r\n    </td>\r\n  </tr>\r\n)\r\n\r\nconst Persons = ({ persons, removePerson }) => (\r\n  <div>\r\n    <h2>Numbers</h2>\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>Name</th>\r\n          <th>Number</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {persons.map(person => \r\n          <Person key={person.id} person={person} removePerson={removePerson}/>)\r\n        }\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n)\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n  const { onSubmit, inputAttributes } = props\r\n  const [ newName, handleNameChange, \r\n        newNumber, handleNumberChange ] = inputAttributes\r\n\r\n  return (\r\n  <div>\r\n    <h2>Add a new</h2>\r\n    <form onSubmit={onSubmit}>\r\n      <div>\r\n        name: <input \r\n                type=\"text\"\r\n                value={newName}\r\n                onChange={handleNameChange}  \r\n              />\r\n      </div>\r\n      <div>\r\n        number: <input\r\n                  type=\"text\"\r\n                  value={newNumber}\r\n                  onChange={handleNumberChange}\r\n                />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import React from 'react'\r\n\r\nconst Notification = ({message, type}) => {\r\n  if (message === null) return null\r\n\r\n  const style = {\r\n    maxWidth: 600,\r\n    fontSize: 20,\r\n    background: 'lightgray',\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  }\r\n\r\n  if (type === 'success') style.color = 'green'\r\n  if (type === 'danger') style.color = 'red'\r\n  if (type === 'warning') style.color = '#FF5522'\r\n\r\n  return (\r\n    <div style={style}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport Persons from './components/Persons'\r\nimport PersonForm from './components/PersonForm'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ newFilter, setNewFilter ] = useState('')\r\n\r\n  const emptyNotification = {\r\n    text: null,\r\n    type: null\r\n  }\r\n\r\n  const [ notification, setNotification] = useState(emptyNotification)\r\n\r\n  const resetNotification = () => {\r\n    setTimeout(() => {\r\n      setNotification(emptyNotification)\r\n    }, 5000)\r\n  }\r\n\r\n  // asking the server for the list of persons\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => setPersons(initialPersons))\r\n  }, [])\r\n\r\n  /*\r\n\r\n    FILTERING THE LIST OF PERSONS\r\n\r\n  */\r\n  const filterPersons = () => (\r\n  // if filter not empty, filter the array accordingly\r\n    !newFilter ? persons :\r\n      persons.filter(person => \r\n        person.name.toLowerCase()\r\n          .includes(newFilter.trim().toLowerCase())) \r\n  )\r\n\r\n  const handleFilterChange = (event) => {\r\n    setNewFilter(event.target.value)\r\n  }\r\n\r\n  /*\r\n\r\n    ADDING A NEW PERSON\r\n\r\n  */\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const personObj = {\r\n      name: newName.trim(),\r\n      number: newNumber.trim()\r\n    }\r\n\r\n    const findPerson = (name) => {\r\n      return persons.find(person => \r\n        person.name.toLowerCase() \r\n          === name.trim().toLowerCase()\r\n      )\r\n    }\r\n\r\n    // form validation\r\n    if (!newName || !newNumber) {\r\n      alert(\"You have to enter a name and a number!\")\r\n    } else if (findPerson(newName)) {\r\n      // person is already added, change the number\r\n      if (\r\n        window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\r\n      ) {\r\n        personService\r\n          .update(findPerson(newName).id, personObj)\r\n          .then(returnedPerson => {\r\n            setNotification({\r\n              text: `${returnedPerson.name}'s number has been changed`,\r\n              type: 'warning'\r\n            })\r\n            resetNotification()\r\n            setPersons(persons.map(p => \r\n              p.id !== returnedPerson.id\r\n              ? p\r\n              : returnedPerson\r\n            ))\r\n            setNewName('')\r\n            setNewNumber('')\r\n          })\r\n          .catch(() => {\r\n            setNotification({\r\n              text: `Information of ${personObj.name} has already been removed from server`,\r\n              type: 'danger'\r\n            })\r\n            setPersons(persons.filter(p => p.name !== personObj.name))\r\n            resetNotification()\r\n          })\r\n      }\r\n    } else {\r\n      // add the new person\r\n      personService\r\n        .create(personObj)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setNotification({\r\n            text: `Added ${returnedPerson.name}`,\r\n            type: 'success'\r\n          })\r\n          resetNotification()\r\n          setNewName('')\r\n          setNewNumber('')\r\n        })\r\n        .catch(error => {\r\n          setNotification({\r\n            text: error.response.data.error,\r\n            type: 'danger'\r\n          })\r\n          resetNotification()\r\n        })\r\n    }\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value) \r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  /*\r\n\r\n    REMOVING A PERSON\r\n\r\n  */\r\n  const removePerson = id => () => {\r\n   personService\r\n    .remove(id)\r\n    .then(() => {\r\n      let name = persons.find(p => p.id === id).name\r\n      setNotification({\r\n        text: `Information of ${name} has been deleted`,\r\n        type: 'danger'\r\n      })\r\n      setPersons(persons.filter(p => p.id !== id))\r\n      resetNotification()\r\n    })\r\n    .catch(() => {\r\n      let name = persons.find(p => p.id === id).name\r\n      setNotification({\r\n        text: `Information of ${name} has already been removed from server`,\r\n        type: 'danger'\r\n      })\r\n      setPersons(persons.filter(p => p.id !== id))\r\n      resetNotification()\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Phonebook</h1>\r\n      <Notification \r\n        message={notification.text} \r\n        type={notification.type}\r\n      />\r\n      <div className=\"phonebook\">\r\n        <Filter value={newFilter} onChange={handleFilterChange} />\r\n        <PersonForm onSubmit={addPerson}\r\n          inputAttributes=\r\n            {[newName, handleNameChange, newNumber, handleNumberChange]}\r\n        />\r\n        <Persons \r\n          persons={filterPersons()} \r\n          removePerson={removePerson}  \r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}